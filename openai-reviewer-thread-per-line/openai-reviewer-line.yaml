name: OpenAI reviewer per line
command: "!review_line"
runtime: "wasm"

vars:
  - name: reviewer_api_key
    type:
    - env
    - secret
  - name: reviewer_endpoint
    type:
    - env
    - secret
  - name: reviewer_model # gpt-5.1-codex-mini is default
    type:
    - env
    - config
  - name: reviewer_prompt
    type:
    - env
    - config

wasm_config:
  exported_function: "review"
  url: "https://github.com/Gasoid/merge-bot/releases/download/v3.8.0-beta.1/openai-plugin-line.wasm"
  allowed_hosts:
  - "api.openai.com"
